<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

<meta property="og:title" content="Creating a Remote Jina Pod via Flow API" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://docs.jina.ai/chapters/remote/run-remote-pod-flow/" />
  
<meta property="og:site_name" content="Jina 0.1.0 Documentation" />
  
<meta property="og:description" content="This tutorial guides you to run a Jina Pod remotely via Flow API. Before the start, make sure to read “Understanding Pea and Pod in Jina” and “Jina Flow API”. Terminologies: Workflow: a set of connected pods for accomplishing certain task, e.g. indexing, searching, extracting., Flow API: a python..." />
  
<meta property="og:image" content="https://docs.jina.ai/_static/banner.png" />
  
<meta property="og:image:alt" content="Jina 0.1.0 Documentation" />
  
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description" content="Build cross-modal and multi-modal applications on the cloud · Neural Search · Creative AI · Cloud Native · MLOps">
<meta property="og:description" content="Build cross-modal and multi-modal applications on the cloud · Neural Search · Creative AI · Cloud Native · MLOps">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48ZDWC8GT6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48ZDWC8GT6');
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    <link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Using Dashboard to Monitor Logs and View Flow" href="../../dashboard/main/" /><link rel="prev" title="Creating a Remote Jina Pod via Jina Gateway" href="../run-remote-pod-jina/" />
        <link rel="canonical" href="https://docs.jina.ai/chapters/remote/run-remote-pod-flow.html" />

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/><meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Creating a Remote Jina Pod via Flow API - Jina 3.10.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/docbot.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
    <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
    <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
    <header class="mobile-header">
        <div class="header-left">
            <label class="nav-overlay-icon" for="__navigation">
                <div class="visually-hidden">Toggle site navigation sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-menu"></use>
                    </svg>
                </i>
            </label>
        </div>
        <div class="header-center">
            <a href="../../../">
                <div class="brand">Jina 3.10.2 documentation</div>
            </a>
        </div>
        <div class="header-right">
            <div class="theme-toggle-container theme-toggle-header">
                <button class="theme-toggle">
                    <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                    <svg class="theme-icon-when-auto">
                        <use href="#svg-sun-half"></use>
                    </svg>
                    <svg class="theme-icon-when-dark">
                        <use href="#svg-moon"></use>
                    </svg>
                    <svg class="theme-icon-when-light">
                        <use href="#svg-sun"></use>
                    </svg>
                </button>
            </div>
            <label class="toc-overlay-icon toc-header-icon" for="__toc">
                <div class="visually-hidden">Toggle table of contents sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-toc"></use>
                    </svg>
                </i>
            </label>
        </div>
    </header>
    <aside class="sidebar-drawer">
        <div class="sidebar-container">
            
            <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo-light.svg" alt="Light Logo" />
    <img class="sidebar-logo only-dark" src="../../../_static/logo-dark.svg" alt="Dark Logo" />
  </div>
  
  
</a>
<div class="sd-d-flex-row sd-align-major-spaced">
  <a class="github-button" href="https://github.com/jina-ai/jina" data-icon="octicon-star" data-show-count="true" aria-label="Star jina-ai/jina on GitHub" style="opacity: 0;">Star</a>
  
</div><form class="sidebar-search-container" method="get" action="../../../search/" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
    <p class="caption" role="heading"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/via-pip/">Install Jina via <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/via-docker/">Install Jina via Docker Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/on-rasp-linux/">Install Jina on Raspberry Pi and other Linux Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/upgrade/">Upgrade Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/autocomplete/">Autocomplete commands on Bash, Zsh and Fish</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../helloworld/main/">Jina “Hello, World!” 👋🌍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../101/.sphinx/">Jina 101: First Thing to Learn About Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../flow/README/">Using Flow API to Compose Your Jina Workflow</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../hub/main/">Using Jina Pod with Docker Container</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hub/build-pod-image/">Build Your Pod into a Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hub/use-your-pod/">Use Your Pod Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hub/publish-your-pod-image/">Publish Your Pod Image to Jina Hub</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../main/">Using Jina Pod Remotely</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../run-remote-pod-console/">Creating a Remote Jina Pod from Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../run-remote-pod-jina/">Creating a Remote Jina Pod via Jina Gateway</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Creating a Remote Jina Pod via Flow API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dashboard/main/">Using Dashboard to Monitor Logs and View Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/exit/">Gracefully Exit Jina</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cli/main/">Jina Command-Line Interface</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-helloworld/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">hello-world</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-pod/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">pod</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-flow/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">flow</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-gateway/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">gateway</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-ping/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">ping</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-check/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">check</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-log/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">log</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-pea/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">pea</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/jina-client/"><code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">client</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/jina/">Jina Python API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.clients/">jina.clients</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.clients.python/">jina.clients.python</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.python.grpc/">jina.clients.python.grpc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.python.helper/">jina.clients.python.helper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.python.request/">jina.clients.python.request</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.drivers/">jina.drivers</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.control/">jina.drivers.control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.craft/">jina.drivers.craft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.encode/">jina.drivers.encode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.filter/">jina.drivers.filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.helper/">jina.drivers.helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.index/">jina.drivers.index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.prune/">jina.drivers.prune</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.reduce/">jina.drivers.reduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.score/">jina.drivers.score</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.drivers.search/">jina.drivers.search</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.executors/">jina.executors</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.executors.crafters/">jina.executors.crafters</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.crafters.image/">jina.executors.crafters.image</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.crafters.image.crop/">jina.executors.crafters.image.crop</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.crafters.image.io/">jina.executors.crafters.image.io</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.crafters.image.normalize/">jina.executors.crafters.image.normalize</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.crafters.image.resize/">jina.executors.crafters.image.resize</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.crafters.nlp/">jina.executors.crafters.nlp</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.crafters.nlp.split/">jina.executors.crafters.nlp.split</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.executors.encoders/">jina.executors.encoders</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.encoders.image/">jina.executors.encoders.image</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.image.onnx/">jina.executors.encoders.image.onnx</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.image.paddlehub/">jina.executors.encoders.image.paddlehub</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.image.tfkeras/">jina.executors.encoders.image.tfkeras</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.image.torchvision/">jina.executors.encoders.image.torchvision</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.encoders.nlp/">jina.executors.encoders.nlp</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.nlp.char/">jina.executors.encoders.nlp.char</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.nlp.flair/">jina.executors.encoders.nlp.flair</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.nlp.paddlehub/">jina.executors.encoders.nlp.paddlehub</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.nlp.transformer/">jina.executors.encoders.nlp.transformer</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.encoders.numeric/">jina.executors.encoders.numeric</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.numeric.pca/">jina.executors.encoders.numeric.pca</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.encoders.video/">jina.executors.encoders.video</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.video.paddlehub/">jina.executors.encoders.video.paddlehub</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.encoders.video.torchvision/">jina.executors.encoders.video.torchvision</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.executors.encoders.helper/">jina.executors.encoders.helper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.executors.encoders.paddlehub/">jina.executors.encoders.paddlehub</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.executors.encoders.torchvision/">jina.executors.encoders.torchvision</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.executors.indexers/">jina.executors.indexers</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.indexers.keyvalue/">jina.executors.indexers.keyvalue</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.keyvalue.leveldb/">jina.executors.indexers.keyvalue.leveldb</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.keyvalue.proto/">jina.executors.indexers.keyvalue.proto</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.executors.indexers.vector/">jina.executors.indexers.vector</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.vector.annoy/">jina.executors.indexers.vector.annoy</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.vector.faiss/">jina.executors.indexers.vector.faiss</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.vector.nmslib/">jina.executors.indexers.vector.nmslib</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.vector.numpy/">jina.executors.indexers.vector.numpy</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.executors.indexers.vector.sptag/">jina.executors.indexers.vector.sptag</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.executors.rankers/">jina.executors.rankers</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.executors.rankers.bi_match/">jina.executors.rankers.bi_match</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.executors.rankers.tfidf/">jina.executors.rankers.tfidf</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.compound/">jina.executors.compound</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.decorators/">jina.executors.decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.metas/">jina.executors.metas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.requests/">jina.executors.requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.flow/">jina.flow</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.helloworld/">jina.helloworld</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.helloworld.components/">jina.helloworld.components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.helloworld.helper/">jina.helloworld.helper</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.logging/">jina.logging</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.base/">jina.logging.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.pipe/">jina.logging.pipe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.profile/">jina.logging.profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.queue/">jina.logging.queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.sse/">jina.logging.sse</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.main/">jina.main</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.main.api/">jina.main.api</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.main.autocomplete/">jina.main.autocomplete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.main.checker/">jina.main.checker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.main.parser/">jina.main.parser</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.peapods/">jina.peapods</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.container/">jina.peapods.container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.gateway/">jina.peapods.gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.grpc/">jina.peapods.grpc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.grpc_asyncio/">jina.peapods.grpc_asyncio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.pea/">jina.peapods.pea</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.pod/">jina.peapods.pod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.remote/">jina.peapods.remote</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.zmq/">jina.peapods.zmq</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.proto/">jina.proto</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.proto.jina_pb2/">jina.proto.jina_pb2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.proto.jina_pb2_grpc/">jina.proto.jina_pb2_grpc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.enums/">jina.enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.excepts/">jina.excepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.helper/">jina.helper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../yaml/yaml/">Jina YAML Syntax Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../simple_exec/">Built-in Simple Executors and Reserved <code class="docutils literal notranslate"><span class="pre">yaml-path</span></code> in Jina</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../proto/main/">Jina Protobuf Specification</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../proto/modify/">Update Protocol Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../envs/">OS Environment Variables Used in Jina</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending Jina</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../extend/mwu/">A Minimum Working Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extend/executor/">Guideline When Adding New Executor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extend/driver/">Guideline When Adding New Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hub/publish-your-pod-image/">Publish Your Pod Image to Jina Hub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING/">Contributing Guideline</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../jep/main/">Jina Enhancement Proposals (JEP)</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../jep/jep-1/main/">JEP 1 — Redesigning <code class="docutils literal notranslate"><span class="pre">Driver</span></code> and its relation to <code class="docutils literal notranslate"><span class="pre">Executor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jep/jep-2/main/">JEP 2 — Supporting Docker Container in Flow API</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../RELEASE/">Release Cycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG/">Change Logs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debugging and FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/user/">FAQ for End-Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/dev/">FAQ for Developers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../all_exec/">List of 57 Executors in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../all_driver/">List of 35 Drivers in Jina</a></li>
</ul>

    <p class="caption" role="heading"><span class="caption-text">Ecosystem</span></p>
    <ul>
        <li class="toctree-l1">
            <a class="reference internal" href="#">
                <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/search-light.svg">
                <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/search-dark.svg">
                Jina</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://hub.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/hub-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/hub-dark.svg">
            Jina Hub</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://finetuner.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/finetuner-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/finetuner-dark.svg">
            Finetuner</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://docarray.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/docarray-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/docarray-dark.svg">
            DocArray</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://clip-as-service.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/cas-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/cas-dark.svg">
            CLIP-as-service</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://github.com/jina-ai/jcloud">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/JCloud-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/JCloud-dark.svg">
            JCloud</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://now.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/now-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/now-dark.svg">
            NOW</a></li>
    </ul>
</div>

</div>

            </div>
            
        </div>
    </aside>
    <div class="main">
        <div class="content">
            <div class="article-container">
                <a href="#" class="back-to-top muted-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
                    </svg>
                    <span>Back to top</span>
                </a>
                <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
                        <button class="theme-toggle">
                            <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                            <svg class="theme-icon-when-auto">
                                <use href="#svg-sun-half"></use>
                            </svg>
                            <svg class="theme-icon-when-dark">
                                <use href="#svg-moon"></use>
                            </svg>
                            <svg class="theme-icon-when-light">
                                <use href="#svg-sun"></use>
                            </svg>
                        </button>
                    </div>
                    <label class="toc-overlay-icon toc-content-icon"
                           for="__toc">
                        <div class="visually-hidden">Toggle table of contents sidebar</div>
                        <i class="icon">
                            <svg>
                                <use href="#svg-toc"></use>
                            </svg>
                        </i>
                    </label>
                </div>
                <article role="main">
                    <section id="creating-a-remote-jina-pod-via-flow-api">
<h1>Creating a Remote Jina Pod via Flow API<a class="headerlink" href="#creating-a-remote-jina-pod-via-flow-api" title="Permalink to this heading">#</a></h1>
<p>This tutorial guides you to run a Jina Pod remotely via Flow API.</p>
<p>Before the start, make sure to read <span class="xref myst">“Understanding Pea and Pod in Jina”</span> and <span class="xref myst">“Jina Flow API”</span>.</p>
<section id="terminologies">
<h2>Terminologies<a class="headerlink" href="#terminologies" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><em>Workflow</em>: a set of connected pods for accomplishing certain task, e.g. indexing, searching, extracting.</p></li>
<li><p><em>Flow API</em>: a pythonic way for users to construct workflows in Jina with clean, readable idioms.</p></li>
<li><p><em>Remote</em>, <em>local instance</em>, <em>local machine</em>: the place where you want to run the pod, the place offers better computational capability or larger storage. For example, one may want to run an encode pod on the remote GPU instance.</p></li>
<li><p><em>Local</em>, <em>local instance</em>, <em>local machine</em>: the place of your entrypoint and the rest parts of your workflow.</p></li>
</ul>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Both remote and local needs to have Jina installed.</p></li>
<li><p>The local needs to know the IP address/host name of the remote.</p></li>
<li><p>The ports on the remote (in the range of <code class="docutils literal notranslate"><span class="pre">49152-65535</span></code>) must be public accessible.</p></li>
</ul>
</section>
<section id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this heading">#</a></h2>
<section id="let-the-remote-jina-listen">
<h3>1. Let the Remote Jina Listen<a class="headerlink" href="#let-the-remote-jina-listen" title="Permalink to this heading">#</a></h3>
<p>We start a Jina gateway to listen on the spawning request. By default, this feature is not enabled, one can simply type the following in the remote console:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jina gateway --allow-spawn
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>GatewayPea@8233[W]:SECURITY ALERT! this gateway allows SpawnRequest from remote Jina
GatewayPea@8233[C]:gateway is listening at: 0.0.0.0:41851
</pre></div>
</div>
<p>After it reaches to <code class="docutils literal notranslate"><span class="pre">gateway</span> <span class="pre">is</span> <span class="pre">listening</span></code>, the remote Jina is ready. The port number is important for the local to connect to it. In this example we write down <code class="docutils literal notranslate"><span class="pre">41851</span></code>. If you want to have fixed port number everytime, please use <code class="docutils literal notranslate"><span class="pre">--port-grpc</span></code> to specify it. More information can be found <span class="xref myst">in the documentation</span>.</p>
</section>
<section id="build-a-simple-index-flow">
<h3>2. Build a Simple Index Flow<a class="headerlink" href="#build-a-simple-index-flow" title="Permalink to this heading">#</a></h3>
<p>Here we assume the remote is in the intranet and its IP address is <code class="docutils literal notranslate"><span class="pre">192.168.31.76</span></code>.</p>
<p>To build a simple flow, we add a <code class="docutils literal notranslate"><span class="pre">NumpyIndexer</span></code> with three replicas (i.e. shards).</p>
<p>Locally, we write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina.flow</span> <span class="kn">import</span> <span class="n">Flow</span>
<span class="kn">from</span> <span class="nn">jina.enums</span> <span class="kn">import</span> <span class="n">FlowOptimizeLevel</span>

<span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">Flow</span><span class="p">(</span><span class="n">optimize_level</span><span class="o">=</span><span class="n">FlowOptimizeLevel</span><span class="o">.</span><span class="n">IGNORE_GATEWAY</span><span class="p">)</span>
     <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">yaml_path</span><span class="o">=</span><span class="s1">&#39;yaml/test-index.yml&#39;</span><span class="p">,</span>
          <span class="n">replicas</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">separated_workspace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">host</span><span class="o">=</span><span class="s1">&#39;192.168.31.76&#39;</span><span class="p">,</span> <span class="n">port_grpc</span><span class="o">=</span><span class="mi">41851</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">yaml/test-index.yml</span></code> should exist on the remote <code class="docutils literal notranslate"><span class="pre">192.168.31.76</span></code>, not at local.</p>
<p>The YAML config we used here is as following:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="kt">!NumpyIndexer</span><span class="w"></span>
<span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">index_filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tmp2</span><span class="w"></span>
<span class="nt">metas</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test2</span><span class="w"></span>
<span class="nt">requests</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">on</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">SearchRequest</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!VectorSearchDriver</span><span class="w"></span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">query</span><span class="w"></span>
<span class="w">    </span><span class="nt">IndexRequest</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!VectorIndexDriver</span><span class="w"></span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">add</span><span class="w"></span>
<span class="w">    </span><span class="nt">ControlRequest</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!ControlReqDriver</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="run-the-flow-and-index-data">
<h3>3. Run the Flow and Index Data<a class="headerlink" href="#run-the-flow-and-index-data" title="Permalink to this heading">#</a></h3>
<p>Locally, we write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">raw_bytes</span><span class="o">=</span><span class="n">random_docs</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">in_proto</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">random_docs</span><span class="p">(</span><span class="n">num_docs</span><span class="p">,</span> <span class="n">chunks_per_doc</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">embed_dim</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="kn">from</span> <span class="nn">jina.proto</span> <span class="kn">import</span> <span class="n">jina_pb2</span>
    <span class="n">c_id</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_docs</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">jina_pb2</span><span class="o">.</span><span class="n">Document</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">chunks_per_doc</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
            <span class="n">c</span><span class="o">.</span><span class="n">embedding</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="n">array2pb</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="n">embed_dim</span><span class="p">])))</span>
            <span class="n">c</span><span class="o">.</span><span class="n">chunk_id</span> <span class="o">=</span> <span class="n">c_id</span>
            <span class="n">c</span><span class="o">.</span><span class="n">doc_id</span> <span class="o">=</span> <span class="n">j</span>
            <span class="n">c_id</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="n">d</span>
</pre></div>
</div>
<p>While its running, you should observe the following log on both local and remote:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>GatewayPea@54104[C]:gateway is listening at: 0.0.0.0:53174
GatewayPea@54101[C]:gateway is listening at: 0.0.0.0:53178
SpawnDictP@54101[C]:connected to the gateway at 192.168.31.76:44444!
RemotePars@54101[C]:ready and listening
🌏     router@5927[I]:setting up sockets...
      Flow@54101[I]:2 Pods (i.e. 1 Peas) are running in this Flow
      Flow@54101[C]:flow is now ready for use, current build_level is GRAPH
🌏     router@5927[I]:input tcp://0.0.0.0:53179 (PULL_BIND) 	 output tcp://0.0.0.0:53184 (PUSH_BIND)	 control over tcp://0.0.0.0:53183 (PAIR_BIND)
🌏     router@5927[C]:ready and listening
🌏     router@5927[I]:setting up sockets...
  PyClient@54101[C]:connected to the gateway at 0.0.0.0:53178!
index [=                   ]  elapsed: 0.0s  batch:        0 @ 0.0/s index ...	🌏     router@5927[I]:input tcp://0.0.0.0:53185 (PULL_BIND) 	 output tcp://0.0.0.0:53180 (PUSH_BIND)	 control over tcp://0.0.0.0:53186 (PAIR_BIND)
🌏     router@5927[C]:ready and listening
🌏     pod0-0@5927[I]:setting up sockets...
🌏     pod0-0@5927[I]:input tcp://0.0.0.0:53184 (PULL_CONNECT) 	 output tcp://0.0.0.0:53185 (PUSH_CONNECT)	 control over tcp://0.0.0.0:53187 (PAIR_BIND)
🌏     pod0-0@5927[C]:ready and listening
🌏     pod0-1@5927[I]:setting up sockets...
🌏     pod0-1@5927[I]:input tcp://0.0.0.0:53184 (PULL_CONNECT) 	 output tcp://0.0.0.0:53185 (PUSH_CONNECT)	 control over tcp://0.0.0.0:53188 (PAIR_BIND)
🌏     pod0-1@5927[C]:ready and listening
🌏     pod0-2@5927[I]:setting up sockets...
🌏     pod0-2@5927[I]:input tcp://0.0.0.0:53184 (PULL_CONNECT) 	 output tcp://0.0.0.0:53185 (PUSH_CONNECT)	 control over tcp://0.0.0.0:53189 (PAIR_BIND)
🌏     pod0-2@5927[C]:ready and listening
GatewayPea@54101[I]:setting up sockets...
GatewayPea@54101[I]:input tcp://192.168.31.76:53180 (PULL_CONNECT) 	 output tcp://192.168.31.76:53179 (PUSH_CONNECT)	 control over ipc:///var/folders/hw/gpxkv2_n1fv0_cvxs6vjbc540000gn/T/tmp0vbyq01v (PAIR_BIND)
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     pod0-1@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     pod0-2@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     pod0-0@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     pod0-0@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     pod0-1@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-1▸⚐
index [=                   ]  elapsed: 10.8s  batch:        1 @ 0.1/s 🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     pod0-2@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
GatewayPea@54104[C]:terminated
🌏     pod0-0@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-0▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
index [==                  ]  elapsed: 44.9s  batch:        2 @ 0.0/s 🌏     pod0-1@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-2▸⚐
index [===                 ]  elapsed: 50.3s  batch:        3 @ 0.1/s 🌏     router@5927[I]:received &quot;index&quot; from gateway▸⚐
🌏     pod0-0@5927[I]:received &quot;control&quot; from ctl▸⚐
🌏     pod0-0@5927[I]:bytes_sent: 8 KB bytes_recv:7 KB
🌏     pod0-0@5927[I]:break from the event loop
🌏     pod0-0@5927[I]:dumped changes to the executor,  53s since last the save
🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-1▸⚐
🌏     router@5927[I]:received &quot;control&quot; from ctl▸⚐
🌏     router@5927[I]:bytes_sent: 27 KB bytes_recv:24 KB
🌏     router@5927[I]:break from the event loop
🌏     router@5927[I]:executor says there is nothing to save
🌏     router@5927[C]:terminated
index [====                ]  elapsed: 56.1s  batch:        4 @ 0.1/s 🌏     pod0-2@5927[I]:received &quot;index&quot; from gateway▸router▸⚐
🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-0▸⚐
index [=====               ]  elapsed: 57.2s  batch:        5 @ 0.1/s 🌏     router@5927[I]:received &quot;index&quot; from gateway▸router▸pod0-2▸⚐
🌏     pod0-1@5927[I]:received &quot;control&quot; from ctl▸⚐
index [======              ]  elapsed: 59.2s  batch:        6 @ 0.1/s     [70.448 secs]
</pre></div>
</div>
</section>
<section id="checkout-the-index-files-on-the-remote">
<h3>4. Checkout the Index Files On the Remote<a class="headerlink" href="#checkout-the-index-files-on-the-remote" title="Permalink to this heading">#</a></h3>
<p>After everything is done, checkout the working directory on the remote. And it should give you</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>├── test2-0
│   ├── test2.bin
│   └── tmp2
├── test2-1
│   ├── test2.bin
│   └── tmp2
├── test2-2
│   ├── test2.bin
│   └── tmp2
</pre></div>
</div>
<p>Congratulations! You now have a remote Pod that can be connected.</p>
</section>
</section>
<section id="troubleshooting-checklist">
<h2>Troubleshooting Checklist<a class="headerlink" href="#troubleshooting-checklist" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>[ ] Is the remote address correct?</p></li>
<li><p>[ ] Are the remote ports public accessible (e.g. Security Group on AWS, firewall blacklist)?</p></li>
<li><p>[ ] Is the remote address an internal IP address and not publicly accessible?</p></li>
<li><p>[ ] Is the local connected to internet?</p></li>
<li><p>[ ] Is remote Pod successfully started? You shall see a green highlighted <code class="docutils literal notranslate"><span class="pre">ready</span> <span class="pre">and</span> <span class="pre">listening</span></code> if it is successful.</p></li>
</ul>
</section>
<section id="what-s-next">
<h2>What’s next?<a class="headerlink" href="#what-s-next" title="Permalink to this heading">#</a></h2>
<p>You many also want to checkout the following articles.</p>
</section>
</section>

                </article>
            </div>
            <footer>
                
                <div class="related-pages">
                    <a class="next-page" href="../../dashboard/main/">
                        <div class="page-info">
                            <div class="context">
                                <span>Next</span>
                            </div>
                            <div class="title">Using Dashboard to Monitor Logs and View Flow</div>
                        </div>
                        <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
                    </a>
                    <a class="prev-page" href="../run-remote-pod-jina/">
                        <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
                        <div class="page-info">
                            <div class="context">
                                <span>Previous</span>
                            </div>
                            
                            <div class="title">Creating a Remote Jina Pod via Jina Gateway</div>
                            
                        </div>
                    </a>
                </div>
                <div class="bottom-of-page">
                    <div class="left-details">
                        <div class="copyright">
                            Copyright &#169; Jina AI Limited. All rights reserved.
                        </div><div class="last-updated">
                            Last updated on Oct 19, 2022</div>
                    </div>
                    <div class="right-details">
                        <div class="social-btns">
                            <a class='social-btn' href="https://github.com/jina-ai/jina" aria-label="GitHub"
                               target="_blank" rel="noreferrer"> <i class="fab fa-github"></i></a>
                            <a class='social-btn' href="https://slack.jina.ai" aria-label="Slack" target="_blank"
                               rel="noreferrer"> <i class="fab fa-slack"></i></a>
                            <a class='social-btn' href="https://youtube.com/c/jina-ai" aria-label="YouTube"
                               target="_blank" rel="noreferrer"> <i class="fab fa-youtube"></i></a>
                            <a class='social-btn' href="https://twitter.com/JinaAI_" aria-label="Twitter"
                               target="_blank" rel="noreferrer"> <i class="fab fa-twitter"></i></a>
                            <a class='social-btn' href="https://www.linkedin.com/company/jinaai/" aria-label="LinkedIn"
                               target="_blank" rel="noreferrer"> <i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
                
            </footer>
        </div>
        <aside class="toc-drawer">
            
            
            <div class="toc-sticky toc-scroll">
                <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
                </div>
                <div class="toc-tree-container">
                    <div class="toc-tree">
                        <ul>
<li><a class="reference internal" href="#">Creating a Remote Jina Pod via Flow API</a><ul>
<li><a class="reference internal" href="#terminologies">Terminologies</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#steps">Steps</a><ul>
<li><a class="reference internal" href="#let-the-remote-jina-listen">1. Let the Remote Jina Listen</a></li>
<li><a class="reference internal" href="#build-a-simple-index-flow">2. Build a Simple Index Flow</a></li>
<li><a class="reference internal" href="#run-the-flow-and-index-data">3. Run the Flow and Index Data</a></li>
<li><a class="reference internal" href="#checkout-the-index-files-on-the-remote">4. Checkout the Index Files On the Remote</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting-checklist">Troubleshooting Checklist</a></li>
<li><a class="reference internal" href="#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>

                    </div>
                </div>
            </div>
            
            
        </aside>
    </div>
    <qa-bot
            title="Jina Bot"
            description="Build cross-modal and multi-modal applications on the cloud"
    >
        <template>
            <dl>
                <dt>You can ask questions about our docs. Try:</dt>
                <dd>Does Jina support Kubernetes?</dd>
                <dd>What are the basic concepts in Jina?</dd>
                <dd>How to share my Executor?</dd>
            </dl>
        </template>
    </qa-bot>
</div>
<img referrerpolicy="no-referrer-when-downgrade"
     src="https://static.scarf.sh/a.png?x-pxid=2823e771-0e1e-4320-8fde-48bc48e53262"/><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/tabs.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() { 
            document.querySelector('qa-bot').setAttribute('server', 'https://jina-ai-jina.docsqa.jina.ai');
        });
        </script>
    <script src="https://cdn.jsdelivr.net/npm/qabot@0.4"></script>
    </body>
</html>